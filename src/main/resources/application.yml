###########################################################################
# 🎯 어떤 환경을 기본으로 실행할지 결정 (집=home / 회사=company)
# - 기본은 'home'으로 실행되도록 함
# - 회사에서 실행 시: VM옵션에  -Dspring.profiles.active=company  지정
###########################################################################
spring:
  profiles:
    active: home   # ✅ 기본 환경: 집(PostgreSQL)

  #########################################################################
  # ✅ 애플리케이션 정보
  #########################################################################
  application:
    name: MyBaseLinkV2

  #########################################################################
  # ✅ UI 템플릿 엔진(Thymeleaf)
  #########################################################################
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    cache: false              # 개발: false / 운영시 true 권장
    mode: HTML
    encoding: UTF-8

  #########################################################################
  # ✅ 정적 리소스 제공 경로
  #########################################################################
  web:
    resources:
      static-locations: classpath:/static/,classpath:/public/,classpath:/resources/

  #########################################################################
  # ✅ 파일 업로드 설정
  #########################################################################
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 20MB

  #########################################################################
  # ✅ DevTools 자동 리로드 설정 (재기동 속도 향상)
  #########################################################################
  devtools:
    restart:
      enabled: true
      poll-interval: 1000     # 파일 변경 감지 주기(ms) 기본 4000 → 1000 (1초)
      quiet-period: 500       # 변경 후 대기시간(ms) 기본 4000 → 500 (0.5초)
    livereload:
      enabled: true

###########################################################################
# 🖥 서버 공통 설정
###########################################################################
server:
  port: 8080
  servlet:
    context-path: /
  error:
    whitelabel:
      enabled: false

###########################################################################
# 🔐 JWT 토큰 설정 (공통)
###########################################################################
jwt:
  secret: MyNovaSecretKeyChangeThisToSomethingStrong123!
  expiration: 3600000
  #expiration: 305000

###########################################################################
# 🧠 로깅 레벨 (공통)
###########################################################################
logging:
  level:
    '[org.hibernate.SQL]': ERROR
    '[org.hibernate.type.descriptor.sql.BasicBinder]': ERROR
    '[com.mybaselink]': DEBUG
    '[org.springframework]': INFO

    # ✅ [추가] SSE 연결 종료 등 불필요한 Tomcat IOException 억제
    '[org.apache.catalina.connector.CoyoteAdapter]': ERROR
    '[org.apache.coyote.http11.Http11Processor]': ERROR
    '[org.apache.catalina.connector.OutputBuffer]': ERROR
