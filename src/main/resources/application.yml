###########################################################################
# 🎯 어떤 환경을 기본으로 실행할지 결정 (집=home / 회사=company)
# - 기본은 'home'으로 실행되도록 함
# - 회사에서 실행 시: VM옵션에  -Dspring.profiles.active=company  지정
###########################################################################
spring:
  profiles:
    active: home   # ✅ 기본 환경: 집(PostgreSQL)

###########################################################################
# 🧩 [공통] Spring Boot 애플리케이션 설정 (집/회사 공통 적용)
# - 절대 'spring:' 키를 중복 선언하지 않음
###########################################################################
  #########################################################################
  # ✅ 애플리케이션 정보
  #########################################################################
  application:
    name: MyBaseLinkV2

  #########################################################################
  # ✅ UI 템플릿 엔진(Thymeleaf)
  #########################################################################
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    cache: false              # 개발: false / 운영시 true 권장
    mode: HTML
    encoding: UTF-8

  #########################################################################
  # ✅ JPA + Hibernate (공통 정책)
  # - DB 종류별 설정(dialect)은 각 프로필 파일에서 적용
  # - ddl-auto는 개발 편의: update → 운영 배포 시 none 권장
  #########################################################################
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:

    #######################################################################
    # ⚙ HikariCP 커넥션 풀 공통 설정
    #######################################################################
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
      validation-timeout: 5000
      leak-detection-threshold: 0

  #########################################################################
  # ✅ 정적 리소스 제공 경로
  #########################################################################
  web:
    resources:
      static-locations: classpath:/static/,classpath:/public/,classpath:/resources/

  #########################################################################
  # ✅ 파일 업로드 설정
  #########################################################################
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 20MB

  #########################################################################
  # ✅ DevTools 자동 리로드 설정
  #########################################################################
  devtools:
    restart:
      enabled: true
    livereload:
      enabled: true

###########################################################################
# 🖥 서버 공통 설정
###########################################################################
server:
  port: 8080
  servlet:
    context-path: /
  error:
    whitelabel:
      enabled: false

###########################################################################
# 🔐 JWT 토큰 설정 (공통)
###########################################################################
jwt:
  secret: MyNovaSecretKeyChangeThisToSomethingStrong123!
  expiration: 3600000
  #expiration: 305000

###########################################################################
# 🧠 로깅 레벨 (공통)
###########################################################################
logging:
  level:
    org.hibernate.SQL: ERROR
    org.hibernate.type.descriptor.sql.BasicBinder: ERROR
    com.mybaselink: DEBUG
    org.springframework: INFO
